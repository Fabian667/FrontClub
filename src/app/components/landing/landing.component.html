<div class="landing">
  <header class="site-header">
    <div class="container header-content">
      <div class="brand">
        <a routerLink="/" class="brand-link">
          <span class="brand-plus" aria-hidden="true">+</span>
          <span class="brand-verde">Verde</span>
        </a>
      </div>
      <!-- Botón menú hamburguesa -->
      <button class="menu-toggle" type="button"
              aria-label="Abrir menú"
              aria-controls="primary-nav"
              [attr.aria-expanded]="menuOpen()"
              (click)="toggleMenu()">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
      <nav id="primary-nav" class="nav-links" [class.open]="menuOpen()">
        <a href="#noticias" (click)="closeMenu()">Noticias</a>
        <a href="#actividades" (click)="closeMenu()">Actividades</a>
        <a href="#instalaciones" (click)="closeMenu()">Instalaciones</a>
        <a href="#eventos" (click)="closeMenu()">Eventos</a>
        <a href="#contacto" (click)="closeMenu()">Contacto</a>
        <a *ngIf="!isLoggedIn()" routerLink="/admin/login" class="login-btn" (click)="closeMenu()">Login</a>
        <button *ngIf="isLoggedIn()" (click)="logout(); closeMenu()" class="login-btn">Salir</button>
      </nav>
    </div>
  </header>
  <!-- Hero Section -->
  <section class="hero" [ngStyle]="{ 'background-image': backgroundStyle() }">
    <div class="hero-content">
      <h1 class="brand-title">
        <span class="brand-plus" aria-hidden="true">+</span>
        <span class="brand-verde">Verde</span>
      </h1>
      <p>Descubre nuestras actividades, instalaciones, eventos y noticias</p>
      <!-- Botón de administrar eliminado -->
      <div class="details" *ngIf="reservasCount() >= 0">
        <span>Reservas registradas: {{ reservasCount() }}</span>
      </div>
    </div>
  </section>

  <!-- Noticias Section -->
  <section class="section" id="noticias">
    <div class="container">
      <h2>Noticias</h2>
      <div class="grid">
        <div class="card" *ngFor="let noticia of noticias()">
          <div class="card-image" *ngIf="noticia.imagenUrl">
            <img [src]="noticia.imagenUrl" alt="Imagen noticia" />
          </div>
          <div class="card-content">
            <h3>{{ noticia.titulo }}</h3>
            <p *ngIf="noticia.descripcion">{{ noticia.descripcion }}</p>
            <div class="details" *ngIf="noticia.fecha">
              <span>{{ noticia.fecha }}</span>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="noticias().length === 0" class="empty-msg">No hay noticias disponibles por el momento.</p>
    </div>
  </section>

  <!-- Actividades Section -->
  <section class="section" id="actividades">
    <div class="container">
      <h2>Nuestras Actividades</h2>
      <div class="grid">
        <div class="card" *ngFor="let actividad of actividades()">
          <div class="card-content">
            <h3>{{ actividad.nombre }}</h3>
            <p>{{ actividad.descripcion }}</p>
            <div class="details" *ngIf="actividad.diaSemana || actividad.horaInicio">
              <span *ngIf="actividad.diaSemana">{{ actividad.diaSemana }}</span>
              <span *ngIf="actividad.horaInicio">{{ actividad.horaInicio }} - {{ actividad.horaFin }}</span>
              <span *ngIf="actividad.precioHora" class="precio">${{ actividad.precioHora }}/hora</span>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="actividades().length === 0" class="empty-msg">No hay actividades disponibles por el momento.</p>
    </div>
  </section>

  <!-- Instalaciones Section -->
  <section class="section alt" id="instalaciones">
    <div class="container">
      <h2>Nuestras Instalaciones</h2>
      <div class="grid">
        <div class="card" *ngFor="let instalacion of instalaciones()">
          <div class="card-image" *ngIf="instalacion.imagen">
            <img [src]="instalacion.imagen" alt="Imagen instalación" />
          </div>
          <div class="card-content">
            <h3>{{ instalacion.nombre }}</h3>
            <p>{{ instalacion.descripcion }}</p>
            <div class="details" *ngIf="instalacion.capacidad">
              <span>Capacidad: {{ instalacion.capacidad }} personas</span>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="instalaciones().length === 0" class="empty-msg">No hay instalaciones disponibles o no se pudieron cargar.</p>
    </div>
  </section>

  <!-- Eventos Section -->
  <section class="section" id="eventos">
    <div class="container">
      <h2>Próximos Eventos</h2>
      <div class="grid">
        <div class="card" *ngFor="let evento of eventos()">
          <div class="card-image" *ngIf="evento.imagen">
            <img [src]="evento.imagen" alt="Imagen evento" />
          </div>
          <div class="card-content">
            <h3>{{ evento.nombre }}</h3>
            <p>{{ evento.descripcion }}</p>
            <div class="details" *ngIf="evento.fecha || evento.lugar">
              <span *ngIf="evento.fecha">{{ evento.fecha }}</span>
              <span *ngIf="evento.horaInicio">{{ evento.horaInicio }} - {{ evento.horaFin }}</span>
              <span *ngIf="evento.lugar">{{ evento.lugar }}</span>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="eventos().length === 0" class="empty-msg">No hay eventos programados o no se pudieron cargar.</p>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contacto" class="contact-section">
    <div class="container">
      <h2>Contacto</h2>
      <div class="contact-grid">
        <!-- Contact Form -->
        <div class="contact-form">
          <h3>Envíanos un mensaje</h3>
          <form #contactForm="ngForm" (ngSubmit)="onContactSubmit(contactForm)">
            <div class="form-group">
              <label for="name">Nombre</label>
              <input type="text" id="name" name="name" ngModel required>
            </div>
            <div class="form-group">
              <label for="message">Mensaje</label>
              <textarea id="message" name="message" rows="4" ngModel required></textarea>
            </div>
            <button type="submit" class="submit-btn" [disabled]="!contactForm.valid">Enviar</button>
          </form>
        </div>

        <!-- Contact Info -->
        <div class="contact-info">
          <h3>Información de contacto</h3>
          <div class="info-item" *ngIf="contactInfo().address">
            <strong>Dirección:</strong>
            <p>{{ contactInfo().address }}</p>
          </div>
          <div class="info-item" *ngIf="contactInfo().phone">
            <strong>Teléfono:</strong>
            <p>{{ contactInfo().phone }}</p>
          </div>
          <div class="info-item" *ngIf="contactInfo().email">
            <strong>Email:</strong>
            <p>{{ contactInfo().email }}</p>
          </div>
          
          <!-- Social Media -->
          <div class="social-links" *ngIf="contactInfo().facebook || contactInfo().instagram">
            <h4>Síguenos</h4>
            <div class="social-buttons">
              <a *ngIf="contactInfo().facebook" [href]="contactInfo().facebook" target="_blank" rel="noopener" class="social-btn facebook" aria-label="Facebook">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987H7.898V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.891h-2.33v6.987C18.343 21.128 22 16.991 22 12z"></path>
                </svg>
                <span class="sr-only">Facebook</span>
              </a>
              <a *ngIf="contactInfo().instagram" [href]="contactInfo().instagram" target="_blank" rel="noopener" class="social-btn instagram" aria-label="Instagram">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.343 3.608 1.318.975.975 1.256 2.242 1.318 3.608.058 1.266.07 1.646.07 4.84s-.012 3.575-.07 4.84c-.062 1.366-.343 2.633-1.318 3.608-.975.975-2.242 1.256-3.608 1.318-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.343-3.608-1.318-.975-.975-1.256-2.242-1.318-3.608C2.175 15.615 2.163 15.235 2.163 12s.012-3.575.07-4.84c.062-1.366.343-2.633 1.318-3.608.975-.975 2.242-1.256 3.608-1.318C8.415 2.175 8.795 2.163 12 2.163zm0 1.622c-3.16 0-3.532.012-4.785.069-1.028.047-1.588.216-1.957.363-.492.191-.843.418-1.212.787-.369.369-.596.72-.787 1.212-.147.369-.316.929-.363 1.957-.057 1.253-.069 1.625-.069 4.785s.012 3.532.069 4.785c.047 1.028.216 1.588.363 1.957.191.492.418.843.787 1.212.369.369.72.596 1.212.787.369.147.929.316 1.957.363 1.253.057 1.625.069 4.785.069s3.532-.012 4.785-.069c1.028-.047 1.588-.216 1.957-.363.492-.191.843-.418 1.212-.787.369-.369.596-.72.787-1.212.147-.369.316-.929.363-1.957.057-1.253.069-1.625.069-4.785s-.012-3.532-.069-4.785c-.047-1.028-.216-1.588-.363-1.957-.191-.492-.418-.843-.787-1.212-.369-.369-.72-.596-1.212-.787-.369-.147-.929-.316-1.957-.363-1.253-.057-1.625-.069-4.785-.069zm0 3.09a4.125 4.125 0 1 1 0 8.25 4.125 4.125 0 0 1 0-8.25zm6.406-.844a1.031 1.031 0 1 1 0 2.062 1.031 1.031 0 0 1 0-2.062z"></path>
                </svg>
                <span class="sr-only">Instagram</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Ubicación (mapa) fuera del bloque de Información de contacto -->
  <section class="map-section" *ngIf="contactInfo().mapsUrl">
    <div class="container">
      <div class="map-container">
        <iframe 
          [src]="contactInfo().mapsUrl" 
          width="100%" 
          height="300" 
          style="border:0;" 
          allowfullscreen="" 
          loading="lazy" 
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>
        &copy; 2025 
        <span class="brand-plus" aria-hidden="true">+</span>
        <span class="brand-verde">Verde</span>. Todos los derechos reservados.
      </p>
    </div>
  </footer>
</div>